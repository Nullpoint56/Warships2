# Engine diagnostics and runtime behavior
# Copy to .env.engine

# Engine diagnostics
ENGINE_DEBUG_METRICS=0
ENGINE_DEBUG_OVERLAY=0
ENGINE_DEBUG_UI_TRACE=0
ENGINE_DEBUG_UI_TRACE_SAMPLING_N=10
ENGINE_DEBUG_UI_TRACE_LOG_EVERY_FRAME=0
ENGINE_DEBUG_UI_TRACE_AUTO_DUMP=0
ENGINE_DEBUG_UI_TRACE_DUMP_DIR=logs
ENGINE_DEBUG_UI_TRACE_PRIMITIVES=1
# Comma-separated key prefixes to limit primitive trace volume (optional).
# Example: ui:,overlay:,widget:
ENGINE_DEBUG_UI_TRACE_KEY_FILTER=
ENGINE_DEBUG_RESIZE_TRACE=0
# Phase 2 resize experiments (set one variable at a time while diagnosing)
ENGINE_DEBUG_RESIZE_FORCE_INVALIDATE=0
# both|event_only|poll_only
ENGINE_DEBUG_RESIZE_SIZE_SOURCE_MODE=both
# trunc|round
ENGINE_DEBUG_RESIZE_SIZE_QUANTIZATION=trunc
ENGINE_DEBUG_RESIZE_CAMERA_SET_VIEW_SIZE=0
# 0|1 (when 1, derive logical size from canvas physical size and pixel ratio)
ENGINE_DEBUG_RESIZE_SYNC_FROM_PHYSICAL_SIZE=0
# 0 disables; positive value forces renderer/target pixel ratio (example: 1.0)
ENGINE_DEBUG_RENDERER_FORCE_PIXEL_RATIO=0
# 1 enables structured frame profiling records for observability tooling.
ENGINE_DEBUG_PROFILING=0
# Sample every Nth frame (1 = every frame).
ENGINE_DEBUG_PROFILING_SAMPLING_N=1

# Engine diagnostics capabilities (engine-owned, tooling-consumable)
ENGINE_DIAG_ENABLED=1
ENGINE_DIAG_BUFFER_CAP=10000
ENGINE_DIAG_CRASH_BUNDLE=1
ENGINE_DIAG_CRASH_DIR=tools/data/crash
ENGINE_DIAG_CRASH_RECENT_EVENTS=400
# off|light|timeline|timeline_sample
ENGINE_DIAG_PROFILE_MODE=off
ENGINE_DIAG_PROFILE_SAMPLING_N=1
ENGINE_DIAG_PROFILE_SPAN_CAP=5000
ENGINE_DIAG_PROFILE_EXPORT_DIR=tools/data/profiles
ENGINE_DIAG_REPLAY_CAPTURE=0
ENGINE_DIAG_REPLAY_EXPORT_DIR=tools/data/replay
ENGINE_DIAG_REPLAY_HASH_INTERVAL=60

# Render loop mode migration
# on_demand|continuous|continuous_during_resize
ENGINE_RENDER_LOOP_MODE=on_demand
# 0 disables cap, otherwise target FPS for non-blocking pacing
ENGINE_RENDER_FPS_CAP=60
# cooldown used by continuous_during_resize mode
ENGINE_RENDER_RESIZE_COOLDOWN_MS=250
# 1 = present-synced to monitor refresh, 0 = unsynced (can exceed refresh/FPS cap permitting)
ENGINE_RENDER_VSYNC=1
ENGINE_LOG_LEVEL=INFO

# UI viewport scaling
# contain = preserve 1200x720 aspect (recommended), stretch = fill full window
ENGINE_UI_ASPECT_MODE=contain

# Window mode at launch
# windowed|maximized|fullscreen|borderless
ENGINE_WINDOW_MODE=windowed
